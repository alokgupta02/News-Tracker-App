<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1" />
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
	integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
	crossorigin="anonymous">
<link href="/css/styles.css" rel="stylesheet" />
<link href="/css/style.css" rel="stylesheet" />
<script type = "text/javascript" src="/js/select.js"></script>
</head>

<body onload="setName()">
	<div class="header">
		<div th:replace="fragments/header :: header"></div>
	</div>

	<sidebar class="sidebar">
	<div th:replace="fragments/sidebar :: sidebar"></div>
	</sidebar>
	<div class="container">
		<h4 id="name" align="center"></h4>

		<div id="container"
			style="width: 1080px; height: 600px; margin: 0 auto"></div>

		<select class="form-control" id="memberId" name="memberId"
			onchange="window.location.href=this.value;getName()">
			<option value="0" selected disabled>Select Output</option>
			<option th:each="output : ${outputList}" th:value="${output.id}"
				th:text="${output.firstName+' '+output.lastName}">
		</select>
	</div>
	<script src="https://code.jquery.com/jquery-3.6.1.min.js"
		integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
		crossorigin="anonymous"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
		integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
		crossorigin="anonymous"></script>
	<script src="https://code.highcharts.com/highcharts.js"></script>
	<script src="https://code.highcharts.com/modules/exporting.js"></script>
	<script th:inline="javascript">
	
    $(function(){
    Highcharts.chart('container', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'Output Data Graph'
        },
        xAxis: {
            categories: [[${days}]],
            crosshair: true,
            title: {
                text: 'Date'
            }
        },
        yAxis: {
            min: 0,
            max:10,
            title: {
                text: 'News'
            }
        },
        tooltip: {
            headerFormat:'<span style="font-size:10px">{point.key}</span><table>',
            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.0f}</b></td></tr>',
            footerFormat: '</table>',
            shared: true,
            useHTML: true
        },
        plotOptions: {
            column: {
                pointPadding: 0.2,
                borderWidth: 0
            }
        },
        series: [{
            name: 'Total News Passed',
            data: [[${news}]]
        }]
      });
    });
    
</script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
		integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
		crossorigin="anonymous"></script>
	<script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js"
		crossorigin="anonymous"></script>
</body>
</html>